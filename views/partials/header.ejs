<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>BAG SHOP</title>
        <link
            href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css"
            rel="stylesheet"
        />
        <script src="https://cdn.tailwindcss.com"></script>
    </head>

    <body class="font-sans bg-gray-100">
        <nav class="w-full fixed top-0 left-0 px-6 py-4 bg-white shadow-md z-50 flex items-center justify-between">
            <h3 class="text-2xl font-bold text-gray-800">BAG SHOP</h3>

            <% var loggedin = typeof loggedin !== "undefined" ? loggedin : true %>
            <% if (loggedin) { %>

            <form action="/shop/search" method="get" class="hidden md:flex items-center bg-gray-100 px-3 py-1 rounded-md shadow-sm">
                <input type="text" name="query" placeholder="Search..."
                    class="bg-transparent border-none outline-none w-48 sm:w-56 md:w-64 px-2" />
                <button type="submit"
                    class="bg-blue-500 text-white px-3 py-1 rounded-md hover:bg-blue-400 transition">
                    Search
                </button>
            </form>

            <button id="menuBtn" class="md:hidden text-2xl">
                â˜°
            </button>

            <div id="navLinks"
                class="hidden md:flex md:gap-8 items-center absolute md:static top-16 left-0 w-full md:w-auto bg-white shadow-md md:shadow-none flex-col md:flex-row py-4 md:py-0">
                <a href="/shop" class="text-gray-700 hover:text-blue-500 transition px-4 py-1 md:px-2">Shop</a>
                <a href="/cart" class="text-gray-700 hover:text-blue-500 transition px-4 py-1 md:px-2">Cart</a>
                <a href="/profile" class="text-gray-700 hover:text-blue-500 transition px-4 py-1 md:px-2">My Account</a>
                <a href="/users/logout" class="text-red-500 hover:text-red-400 transition px-4 py-1 md:px-2">Logout</a>
            </div>
            <% } %>
        </nav>

        <form action="/shop/search" method="get" class="md:hidden flex items-center bg-gray-100 px-3 py-2 rounded-md shadow-sm mx-6 mt-20">
            <input type="text" name="query" placeholder="Search..."
                class="bg-transparent border-none outline-none w-full px-2" />
            <button type="submit"
                class="bg-blue-500 text-white px-3 py-1 rounded-md hover:bg-blue-400 transition">
                Search
            </button>
        </form>

        <script>
            document.getElementById("menuBtn").addEventListener("click", function () {
                document.getElementById("navLinks").classList.toggle("hidden");
            });
        </script>
    </body>
</html>
